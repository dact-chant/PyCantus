

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pycantus.dataloaders package &mdash; PyCantus v0.0.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=77e3fdf6"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pycantus.filtration package" href="pycantus.filtration.html" />
    <link rel="prev" title="pycantus package" href="pycantus.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PyCantus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pycantus</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pycantus.html">pycantus package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pycantus.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">pycantus.dataloaders package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycantus.filtration.html">pycantus.filtration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycantus.models.html">pycantus.models package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pycantus.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycantus.html#module-pycantus.data">pycantus.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycantus.html#module-pycantus">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development_docs.html">PyCantus Development Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_to_chant.html">Intro to Gregorian Chant Data</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCantus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">pycantus</a></li>
          <li class="breadcrumb-item"><a href="pycantus.html">pycantus package</a></li>
      <li class="breadcrumb-item active">pycantus.dataloaders package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pycantus.dataloaders.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pycantus-dataloaders-package">
<h1>pycantus.dataloaders package<a class="headerlink" href="#pycantus-dataloaders-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-pycantus.dataloaders.loader">
<span id="pycantus-dataloaders-loader-module"></span><h2>pycantus.dataloaders.loader module<a class="headerlink" href="#module-pycantus.dataloaders.loader" title="Link to this heading"></a></h2>
<p>This module contains the CsvLoader class, which is responsible for loading chants and sources from CSV files.
It provides methods to download the files if they are not found, and to load the data into Chant and Source objects.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycantus.dataloaders.loader.</span></span><span class="sig-name descname"><span class="pre">CsvLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chants_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_mising_sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_missing_sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chants_fallback_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources_fallback_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="simple">
<dt>CsvLoader for ‘pycantus style’ CSV files:</dt><dd><ul class="simple">
<li><p>Loads chants and sources from CSV files</p></li>
<li><p>Downloads files if they are not found and fallback URLs are provided</p></li>
<li><p>Creates Chant and Source objects from the data</p></li>
<li><p>Checks for mandatory fields and raises an error if any are missing</p></li>
<li><p>Checks</p></li>
<li><p>Is initialized for particular dataset (provided or custom).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.chants_filename">
<span class="sig-name descname"><span class="pre">chants_filename</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.chants_filename" title="Link to this definition"></a></dt>
<dd><p>path to file with chants</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.sources_filename">
<span class="sig-name descname"><span class="pre">sources_filename</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.sources_filename" title="Link to this definition"></a></dt>
<dd><p>path to file with sources</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.chants_fallback_url">
<span class="sig-name descname"><span class="pre">chants_fallback_url</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.chants_fallback_url" title="Link to this definition"></a></dt>
<dd><p>URL for chants file download, is used when loading from filepath fails</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.sources_fallback_url">
<span class="sig-name descname"><span class="pre">sources_fallback_url</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.sources_fallback_url" title="Link to this definition"></a></dt>
<dd><p>URL for sources file download, is used when loading from filepath fails</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.other_parameters">
<span class="sig-name descname"><span class="pre">other_parameters</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.other_parameters" title="Link to this definition"></a></dt>
<dd><p>[not used yet]</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.check_missing_sources">
<span class="sig-name descname"><span class="pre">check_missing_sources</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.check_missing_sources" title="Link to this definition"></a></dt>
<dd><p>indicates whether load should an raise exception if some chant refers to source that is not in sources</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.create_missing_sources">
<span class="sig-name descname"><span class="pre">create_missing_sources</span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.create_missing_sources" title="Link to this definition"></a></dt>
<dd><p>indicates whether load should create Source entries for sources referred to in some of the chants and not being present in provided sources</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.add_missing_sources">
<span class="sig-name descname"><span class="pre">add_missing_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chant_sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pycantus.models.html#pycantus.models.source.Source" title="pycantus.models.source.Source"><span class="pre">Source</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pycantus.models.html#pycantus.models.source.Source" title="pycantus.models.source.Source"><span class="pre">Source</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.add_missing_sources" title="Link to this definition"></a></dt>
<dd><p>Checks missing Source entries based on chants info and add those
in a basic form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chant_sources</strong> (<em>set</em>) – (srclink, siglum) pair referred to in  provided Chants</p></li>
<li><p><strong>sources</strong> (<em>list</em>) – loaded Sources from provided file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>possibly enriched Sources list</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.check_sources">
<span class="sig-name descname"><span class="pre">check_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chant_sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pycantus.models.html#pycantus.models.source.Source" title="pycantus.models.source.Source"><span class="pre">Source</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.check_sources" title="Link to this definition"></a></dt>
<dd><p>Raises exception if some source mentioned in chants does not have
record in sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chant_sources</strong> (<em>set</em>) – (srclink, siglum) pair referred to in  provided Chants</p></li>
<li><p><strong>sources</strong> (<em>list</em>) – loaded Sources from provided file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.download" title="Link to this definition"></a></dt>
<dd><p>Downloads a file from the given URL and saves it to the target path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL of file to be downloaded</p></li>
<li><p><strong>target</strong> (<em>str</em>) – path to directory where downloaded file should be placed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.CsvLoader.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pycantus.models.html#pycantus.models.chant.Chant" title="pycantus.models.chant.Chant"><span class="pre">Chant</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="pycantus.models.html#pycantus.models.source.Source" title="pycantus.models.source.Source"><span class="pre">Source</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pycantus.dataloaders.loader.CsvLoader.load" title="Link to this definition"></a></dt>
<dd><p>Loads chants and sources from CSV files.
Checks for mandatory fields and raises an error if any are missing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of chant records provided as Chant objects.
list: List of source records provided as Sources objects.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycantus.dataloaders.loader.get_numerical_century">
<span class="sig-prename descclassname"><span class="pre">pycantus.dataloaders.loader.</span></span><span class="sig-name descname"><span class="pre">get_numerical_century</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">century</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#pycantus.dataloaders.loader.get_numerical_century" title="Link to this definition"></a></dt>
<dd><p>Extracts the numerical century from a string representation of a century.
Generally takes the first ‘possible to be translated to century’ value.</p>
<dl class="simple">
<dt>E.g.</dt><dd><ul class="simple">
<li><p>for ‘12th century’ -&gt; 12</p></li>
<li><p>for ‘1345 - 1421’  -&gt; 14</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>century</strong> (<em>str</em>) – Textual representation of century.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer representing same century as input string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycantus.dataloaders">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pycantus.dataloaders" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pycantus.html" class="btn btn-neutral float-left" title="pycantus package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pycantus.filtration.html" class="btn btn-neutral float-right" title="pycantus.filtration package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, [redacted for peer review].</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>